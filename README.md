# Currency Exchange REST API

–ü—Ä–æ—Å—Ç–æ–µ —É—á–µ–±–Ω–æ–µ REST API –Ω–∞ Kotlin + Jakarta Servlets (Jetty), —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ CRUD-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∞–ª—é—Ç –∏ –æ–±–º–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤.

---

## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ API

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∞–ª—é—Ç—ã)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–º–µ–Ω–Ω—ã–º–∏ –∫—É—Ä—Å–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫—É—Ä—Å–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- –û–±–º–µ–Ω –≤–∞–ª—é—Ç—ã —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—É–º–º—ã
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP-—Å—Ç–∞—Ç—É—Å—ã –∏ JSON-–æ—Ç–≤–µ—Ç—ã –¥–ª—è –æ—à–∏–±–æ–∫

---

## üìñ –ú–µ—Ç–æ–¥—ã API

### üíµ –í–∞–ª—é—Ç—ã

#### `GET /currencies`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –≤–∞–ª—é—Ç.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
[
  {
    "id": 0,
    "name": "United States dollar",
    "code": "USD",
    "sign": "$"
  },
  {
    "id": 1,
    "name": "Euro",
    "code": "EUR",
    "sign": "‚Ç¨"
  }
]
```

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:
- `200 OK` ‚Äî —É—Å–ø–µ—Ö  
- `500 Internal Server Error` ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

#### `GET /currency/{code}`
–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–∞–ª—é—Ç—ã –ø–æ –∫–æ–¥—É.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "id": 1,
  "name": "Euro",
  "code": "EUR",
  "sign": "‚Ç¨"
}
```

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:
- `200 OK` ‚Äî —É—Å–ø–µ—Ö  
- `400 Bad Request` ‚Äî –∫–æ–¥ –≤–∞–ª—é—Ç—ã –Ω–µ —É–∫–∞–∑–∞–Ω  
- `404 Not Found` ‚Äî –≤–∞–ª—é—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞  
- `500 Internal Server Error` ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞  

---

#### `POST /currencies`
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∞–ª—é—Ç—ã.  
–î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ `application/x-www-form-urlencoded`.

–ü–æ–ª—è —Ñ–æ—Ä–º—ã:
- `name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã  
- `code` ‚Äî –±—É–∫–≤–µ–Ω–Ω—ã–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, USD)  
- `sign` ‚Äî —Å–∏–º–≤–æ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `$`)  

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "id": 2,
  "name": "Euro",
  "code": "EUR",
  "sign": "‚Ç¨"
}
```

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:
- `201 Created` ‚Äî —É—Å–ø–µ—Ö  
- `400 Bad Request` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ  
- `409 Conflict` ‚Äî –≤–∞–ª—é—Ç–∞ —Å —Ç–∞–∫–∏–º –∫–æ–¥–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç  
- `500 Internal Server Error` ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞  

---

### üìä –û–±–º–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã

#### `GET /exchangeRates`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫—É—Ä—Å–æ–≤.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
[
  {
    "id": 0,
    "baseCurrency": { 
      "id": 0, 
      "name": "United States dollar",
      "code": "USD", 
      "sign": "$"
    },
    "targetCurrency": {
      "id": 1, 
      "name": "Euro",
      "code": "EUR", 
      "sign": "‚Ç¨"
    },
    "rate": 0.99
  }
]
```

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:
- `200 OK` ‚Äî —É—Å–ø–µ—Ö  
- `500 Internal Server Error` ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞  

---

#### `GET /exchangeRate/{pair}`
–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±–º–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞ –ø–æ –≤–∞–ª—é—Ç–Ω–æ–π –ø–∞—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `USDRUB`).

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "id": 0,
  "baseCurrency": { 
    "id": 0, 
    "name": "United States dollar", 
    "code": "USD", 
    "sign": "$"
  },
  "targetCurrency": { 
    "id": 2, 
    "name": "Russian Ruble", 
    "code": "RUB", 
    "sign": "‚ÇΩ"
  },
  "rate": 80
}
```

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:
- `200 OK` ‚Äî —É—Å–ø–µ—Ö  
- `400 Bad Request` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–¥ –≤–∞–ª—é—Ç–Ω–æ–π –ø–∞—Ä—ã  
- `404 Not Found` ‚Äî –∫—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω  
- `500 Internal Server Error` ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞  

---

#### `POST /exchangeRates`
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫—É—Ä—Å–∞.  
–§–æ—Ä–º–∞: `application/x-www-form-urlencoded`.

–ü–æ–ª—è —Ñ–æ—Ä–º—ã:
- `baseCurrencyCode` ‚Äî –±–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞  
- `targetCurrencyCode` ‚Äî —Ü–µ–ª–µ–≤–∞—è –≤–∞–ª—é—Ç–∞  
- `rate` ‚Äî –∫—É—Ä—Å –æ–±–º–µ–Ω–∞  

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "id": 1,
  "baseCurrency": { 
    "id": 0, 
    "name": "United States dollar", 
    "code": "USD", 
    "sign": "$"
  },
  "targetCurrency": { 
    "id": 1, 
    "name": "Euro",
    "code": "EUR",
    "sign": "‚Ç¨"
  },
  "rate": 0.99
}
```

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:
- `201 Created` ‚Äî —É—Å–ø–µ—Ö  
- `400 Bad Request` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ  
- `404 Not Found` ‚Äî –æ–¥–Ω–∞ –∏–ª–∏ –æ–±–µ –≤–∞–ª—é—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ  
- `409 Conflict` ‚Äî –ø–∞—Ä–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç  
- `500 Internal Server Error` ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞  

---

#### `PATCH /exchangeRate/{pair}`
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç–Ω–æ–π –ø–∞—Ä—ã.  

–§–æ—Ä–º–∞: `application/x-www-form-urlencoded`.  
–ü–æ–ª—è:
- `rate` ‚Äî –Ω–æ–≤—ã–π –∫—É—Ä—Å  

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "id": 0,
  "baseCurrency": { 
    "id": 0, 
    "name": "United States dollar", 
    "code": "USD", 
    "sign": "$"
  },
  "targetCurrency": { 
    "id": 2, 
    "name": "Russian Ruble", 
    "code": "RUB", 
    "sign": "‚ÇΩ"
  },
  "rate": 80
}
```

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:
- `200 OK` ‚Äî —É—Å–ø–µ—Ö  
- `400 Bad Request` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ  
- `404 Not Found` ‚Äî –ø–∞—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞  
- `500 Internal Server Error` ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞  

---

### üîÑ –û–±–º–µ–Ω –≤–∞–ª—é—Ç—ã

#### `GET /exchange?from=USD&to=EUR&amount=10`
–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–±–º–µ–Ω–∞ —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É –≤–∞–ª—é—Ç–∞–º–∏.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "baseCurrency": { 
    "id": 0, 
    "name": "United States dollar",
    "code": "USD",
    "sign": "$"
  },
  "targetCurrency": { 
    "id": 1, 
    "name": "Euro",
    "code": "EUR", 
    "sign": "‚Ç¨"
  },
  "rate": 0.99,
  "amount": 10.00,
  "convertedAmount": 9.90
}
```

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:
- `200 OK` ‚Äî —É—Å–ø–µ—Ö  
- `400 Bad Request` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä  
- `404 Not Found` ‚Äî –∫—É—Ä—Å –∏–ª–∏ –≤–∞–ª—é—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã  
- `500 Internal Server Error` ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞  

---

## ‚ö†Ô∏è –û—à–∏–±–∫–∏

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

–ü—Ä–∏–º–µ—Ä—ã:
- `"message": "–í–∞–ª—é—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"`  
- `"message": "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω—É–∂–Ω–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã"`  
